# V4: オーケストレーション管理

## 管理目標

コンテナベースのソリューションが一定量のノードとコンテナを超えるとオーケストレータが必要になります。オーケストレータはソリューションの運営管理を支援し、何が起こっているかを追跡し続けます。オーケストレータはコンテナインフラストラクチャの中核を担うものであるため、オーケストレータのセキュリティレベルはインフラストラクチャの他のあらゆる側面に直接影響します。

検証対象のコンテナソリューションが以下の上位要件を満たすことを確認します。

* オーケストレータの連続稼働時間が保証されていること。
* オーケストレータが堅牢化されていること。
* オーケストレータとのやり取りはヒューマンエラーを避けるために概ね自動化されていること。

## セキュリティ検証要件

| # | 説明 | L1 | L2 | L3 | 導入バージョン |
| --- | --- | --- | --- | -- | -- |
| **4.1** | マネージャノードが冗長に設定されており、高可用性をサポートする準備ができていることを検証します。 | ✓ | ✓ | ✓ | 1.0 |
| **4.2** | 三つ以上の奇数のマネージャノードがデプロイされていることを検証します。 | ✓ | ✓ | ✓ | 1.0 |
| **4.3** | マネージャが複数のデータセンタおよびアベイラビリティゾーンに分散されていることを検証します。 |  | ✓ | ✓ | 1.0 |
| **4.4** | マネージャノードが _auto-lock_ を有効にして動作していることを検証します。 |  |  | ✓ | 1.0 |
| **4.5** | オーケストレータが定期的にアクティブなコンテナのバランスを再調整していることを検証します。 | ✓ | ✓ | ✓ | 1.0 |
| **4.6** | マネージャノードがワーカータスクおよびコンテナを引き受けていないことを検証します。 | ✓ | ✓ | ✓ | 1.0 |
| **4.7** | 事前定義されたラベルを使用してすべてのリソースを適切に識別および管理していることを検証します。 | | ✓ | ✓ | 1.0 |
| **4.8** | 不要になったコンテナが削除されていることを検証します。 | | ✓ | ✓ | 1.0 |
| **4.9** | 同じデータ分類レベルのコンテナのみが同じノードで動作していることを検証します。 |  |  | ✓ | 1.0 |
| **4.10** | 同じ公開レベル (インターネットに面しているなど) のコンテナのみが同じノードで動作していることを検証します。 |  |  | ✓ | 1.0 |
